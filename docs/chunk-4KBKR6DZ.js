import{a as h,b as w,c as C,d as y,e as D}from"./chunk-EDV4NEZ4.js";import{Fa as x,K as f,Ka as o,La as i,Ma as v,P as m,Xa as u,Za as b,db as g,eb as T,fa as p,pa as c,xa as d}from"./chunk-REY5ENJQ.js";function A(t){if(!t?.temperature?.values)return[];let r=0;return t.temperature.values.map(a=>{let e=C(a.value)*.1-273.15;return!isNaN(e)&&e!==null&&(r=e),{time:a.time,celsius:isNaN(e)?r:e}})}function s(t){return t.map(r=>({time:r.time,value:r.celsius}))}var l=class t{weather=m(h);clock=m(T);currentTemperatureC=p(null);minuteAverages=p([]);constructor(){g(()=>{let r=this.weather.temperatureData(),a=this.clock.currentTime();if(!r?.values)return;let n=A({temperature:{values:r}});if(!n.length)return;let e=w(s(n));e!==null&&this.currentTemperatureC.set(e),this.minuteAverages.set(y(s(n)))})}static \u0275fac=function(a){return new(a||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})};var N=class t{temperature=m(l);static \u0275fac=function(a){return new(a||t)};static \u0275cmp=d({type:t,selectors:[["temperature"]],decls:13,vars:4,consts:[[1,"relative","z-10","flex","flex-col","items-center","gap-8","w-full","max-w-[900px]","mx-auto","px-6","py-10","bg-[radial-gradient(ellipse_at_center,rgba(255,255,255,0.9)_0%,rgba(255,255,255,0.6)_60%,rgba(255,255,255,0.3)_100%)]","backdrop-blur-md","rounded-2xl","shadow-lg","border","border-white/20"],[1,"text-2xl","font-semibold","text-black","mb-3","justify-center","text-center"],[1,"flex","flex-col","md:flex-row","items-center","gap-8","w-full"],[1,"flex","flex-col","items-center","text-center","w-full","md:w-1/4","mb-6","md:mb-0"],[1,"text-xl","font-semibold","mb-2"],[1,"text-2xl","font-bold","text-temperature"],[1,"w-full","md:w-3/4"],[1,"text-lg","font-semibold","text-gray-800","justify-center","text-center","mb-3","md:mb-0"],["color","#00cc76","unit","\xB0C",3,"data","width","height"]],template:function(a,n){if(a&1&&(o(0,"div",0)(1,"h2",1),u(2,"Temperature"),i(),o(3,"div",2)(4,"div",3)(5,"h2",4),u(6,"Current"),i(),o(7,"p",5),u(8),i()(),o(9,"div",6)(10,"h2",7),u(11,"Average temperature"),i(),v(12,"line-chart",8),i()()()),a&2){let e;c(8),b(" ",(e=(e=n.temperature.currentTemperatureC())==null?null:e.toFixed(2))!==null&&e!==void 0?e:"\u2014"," \xB0C "),c(4),x("data",n.temperature.minuteAverages())("width",700)("height",300)}},dependencies:[D],encapsulation:2})};export{N as a};
