import{K as pr,Ma as dr,Ta as xr,U as hr,Ua as gr,Va as yr,c as cr,fa as it,xa as mr}from"./chunk-REY5ENJQ.js";function ae(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function on(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ot(e){let t,n,r;e.length!==2?(t=ae,n=(u,l)=>ae(e(u),l),r=(u,l)=>e(u)-l):(t=e===ae||e===on?e:Sa,n=e,r=e);function i(u,l,f=0,c=u.length){if(f<c){if(t(l,l)!==0)return c;do{let s=f+c>>>1;n(u[s],l)<0?f=s+1:c=s}while(f<c)}return f}function o(u,l,f=0,c=u.length){if(f<c){if(t(l,l)!==0)return c;do{let s=f+c>>>1;n(u[s],l)<=0?f=s+1:c=s}while(f<c)}return f}function a(u,l,f=0,c=u.length){let s=i(u,l,f,c-1);return s>f&&r(u[s-1],l)>-r(u[s],l)?s-1:s}return{left:i,center:a,right:o}}function Sa(){return 0}function an(e){return e===null?NaN:+e}var _r=ot(ae),vr=_r.right,Ca=_r.left,Ea=ot(an).center,un=vr;var _e=class extends Map{constructor(t,n=Na){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[r,i]of t)this.set(r,i)}get(t){return super.get(wr(this,t))}has(t){return super.has(wr(this,t))}set(t,n){return super.set(Ma(this,t),n)}delete(t){return super.delete(Ta(this,t))}};function wr({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function Ma({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ta({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Na(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Ia=Math.sqrt(50),Oa=Math.sqrt(10),Fa=Math.sqrt(2);function at(e,t,n){let r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Ia?10:o>=Oa?5:o>=Fa?2:1,u,l,f;return i<0?(f=Math.pow(10,-i)/a,u=Math.round(e*f),l=Math.round(t*f),u/f<e&&++u,l/f>t&&--l,f=-f):(f=Math.pow(10,i)*a,u=Math.round(e/f),l=Math.round(t/f),u*f<e&&++u,l*f>t&&--l),l<u&&.5<=n&&n<2?at(e,t,n*2):[u,l,f]}function ut(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let r=t<e,[i,o,a]=r?at(t,e,n):at(e,t,n);if(!(o>=i))return[];let u=o-i+1,l=new Array(u);if(r)if(a<0)for(let f=0;f<u;++f)l[f]=(o-f)/-a;else for(let f=0;f<u;++f)l[f]=(o-f)*a;else if(a<0)for(let f=0;f<u;++f)l[f]=(i+f)/-a;else for(let f=0;f<u;++f)l[f]=(i+f)*a;return l}function Ie(e,t,n){return t=+t,e=+e,n=+n,at(e,t,n)[2]}function ln(e,t,n){t=+t,e=+e,n=+n;let r=t<e,i=r?Ie(t,e,n):Ie(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function lt(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ft(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function st(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function br(e){return e}var fn=1,sn=2,cn=3,Oe=4,Ar=1e-6;function La(e){return"translate("+e+",0)"}function Ra(e){return"translate(0,"+e+")"}function Da(e){return t=>+e(t)}function $a(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Pa(){return!this.__axis}function kr(e,t){var n=[],r=null,i=null,o=6,a=6,u=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=e===fn||e===Oe?-1:1,c=e===Oe||e===sn?"x":"y",s=e===fn||e===cn?La:Ra;function p(h){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),d=i??(t.tickFormat?t.tickFormat.apply(t,n):br),y=Math.max(o,0)+u,v=t.range(),x=+v[0]+l,b=+v[v.length-1]+l,E=(t.bandwidth?$a:Da)(t.copy(),l),A=h.selection?h.selection():h,q=A.selectAll(".domain").data([null]),B=A.selectAll(".tick").data(m,t).order(),w=B.exit(),M=B.enter().append("g").attr("class","tick"),$=B.select("line"),_=B.select("text");q=q.merge(q.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),B=B.merge(M),$=$.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",f*o)),_=_.merge(M.append("text").attr("fill","currentColor").attr(c,f*y).attr("dy",e===fn?"0em":e===cn?"0.71em":"0.32em")),h!==A&&(q=q.transition(h),B=B.transition(h),$=$.transition(h),_=_.transition(h),w=w.transition(h).attr("opacity",Ar).attr("transform",function(k){return isFinite(k=E(k))?s(k+l):this.getAttribute("transform")}),M.attr("opacity",Ar).attr("transform",function(k){var S=this.parentNode.__axis;return s((S&&isFinite(S=S(k))?S:E(k))+l)})),w.remove(),q.attr("d",e===Oe||e===sn?a?"M"+f*a+","+x+"H"+l+"V"+b+"H"+f*a:"M"+l+","+x+"V"+b:a?"M"+x+","+f*a+"V"+l+"H"+b+"V"+f*a:"M"+x+","+l+"H"+b),B.attr("opacity",1).attr("transform",function(k){return s(E(k)+l)}),$.attr(c+"2",f*o),_.attr(c,f*y).text(d),A.filter(Pa).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===sn?"start":e===Oe?"end":"middle"),A.each(function(){this.__axis=E})}return p.scale=function(h){return arguments.length?(t=h,p):t},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),p):n.slice()},p.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),p):r&&r.slice()},p.tickFormat=function(h){return arguments.length?(i=h,p):i},p.tickSize=function(h){return arguments.length?(o=a=+h,p):o},p.tickSizeInner=function(h){return arguments.length?(o=+h,p):o},p.tickSizeOuter=function(h){return arguments.length?(a=+h,p):a},p.tickPadding=function(h){return arguments.length?(u=+h,p):u},p.offset=function(h){return arguments.length?(l=+h,p):l},p}function pn(e){return kr(cn,e)}function ct(e){return kr(Oe,e)}var Ba={value:()=>{}};function Cr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new pt(n)}function pt(e){this._=e}function za(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}pt.prototype=Cr.prototype={constructor:pt,on:function(e,t){var n=this._,r=za(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=Ha(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Sr(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Sr(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new pt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Ha(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Sr(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ba,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var hn=Cr;var ht="http://www.w3.org/1999/xhtml",mn={svg:"http://www.w3.org/2000/svg",xhtml:ht,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function j(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),mn.hasOwnProperty(t)?{space:mn[t],local:e}:e}function Ya(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ht&&t.documentElement.namespaceURI===ht?t.createElement(e):t.createElementNS(n,e)}}function qa(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mt(e){var t=j(e);return(t.local?qa:Ya)(t)}function Va(){}function ue(e){return e==null?Va:function(){return this.querySelector(e)}}function Er(e){typeof e!="function"&&(e=ue(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,u=r[i]=new Array(a),l,f,c=0;c<a;++c)(l=o[c])&&(f=e.call(l,l.__data__,c,o))&&("__data__"in l&&(f.__data__=l.__data__),u[c]=f);return new C(r,this._parents)}function dn(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ga(){return[]}function Fe(e){return e==null?Ga:function(){return this.querySelectorAll(e)}}function Xa(e){return function(){return dn(e.apply(this,arguments))}}function Mr(e){typeof e=="function"?e=Xa(e):e=Fe(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],u=a.length,l,f=0;f<u;++f)(l=a[f])&&(r.push(e.call(l,l.__data__,f,a)),i.push(l));return new C(r,i)}function Le(e){return function(){return this.matches(e)}}function dt(e){return function(t){return t.matches(e)}}var Ua=Array.prototype.find;function Ka(e){return function(){return Ua.call(this.children,e)}}function Wa(){return this.firstElementChild}function Tr(e){return this.select(e==null?Wa:Ka(typeof e=="function"?e:dt(e)))}var ja=Array.prototype.filter;function Qa(){return Array.from(this.children)}function Za(e){return function(){return ja.call(this.children,e)}}function Nr(e){return this.selectAll(e==null?Qa:Za(typeof e=="function"?e:dt(e)))}function Ir(e){typeof e!="function"&&(e=Le(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,u=r[i]=[],l,f=0;f<a;++f)(l=o[f])&&e.call(l,l.__data__,f,o)&&u.push(l);return new C(r,this._parents)}function xt(e){return new Array(e.length)}function Or(){return new C(this._enter||this._groups.map(xt),this._parents)}function Re(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Re.prototype={constructor:Re,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Fr(e){return function(){return e}}function Ja(e,t,n,r,i,o){for(var a=0,u,l=t.length,f=o.length;a<f;++a)(u=t[a])?(u.__data__=o[a],r[a]=u):n[a]=new Re(e,o[a]);for(;a<l;++a)(u=t[a])&&(i[a]=u)}function eu(e,t,n,r,i,o,a){var u,l,f=new Map,c=t.length,s=o.length,p=new Array(c),h;for(u=0;u<c;++u)(l=t[u])&&(p[u]=h=a.call(l,l.__data__,u,t)+"",f.has(h)?i[u]=l:f.set(h,l));for(u=0;u<s;++u)h=a.call(e,o[u],u,o)+"",(l=f.get(h))?(r[u]=l,l.__data__=o[u],f.delete(h)):n[u]=new Re(e,o[u]);for(u=0;u<c;++u)(l=t[u])&&f.get(p[u])===l&&(i[u]=l)}function tu(e){return e.__data__}function Lr(e,t){if(!arguments.length)return Array.from(this,tu);var n=t?eu:Ja,r=this._parents,i=this._groups;typeof e!="function"&&(e=Fr(e));for(var o=i.length,a=new Array(o),u=new Array(o),l=new Array(o),f=0;f<o;++f){var c=r[f],s=i[f],p=s.length,h=nu(e.call(c,c&&c.__data__,f,r)),m=h.length,d=u[f]=new Array(m),y=a[f]=new Array(m),v=l[f]=new Array(p);n(c,s,d,y,v,h,t);for(var x=0,b=0,E,A;x<m;++x)if(E=d[x]){for(x>=b&&(b=x+1);!(A=y[b])&&++b<m;);E._next=A||null}}return a=new C(a,r),a._enter=u,a._exit=l,a}function nu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Rr(){return new C(this._exit||this._groups.map(xt),this._parents)}function Dr(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function $r(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),u=new Array(i),l=0;l<a;++l)for(var f=n[l],c=r[l],s=f.length,p=u[l]=new Array(s),h,m=0;m<s;++m)(h=f[m]||c[m])&&(p[m]=h);for(;l<i;++l)u[l]=n[l];return new C(u,this._parents)}function Pr(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Br(e){e||(e=ru);function t(s,p){return s&&p?e(s.__data__,p.__data__):!s-!p}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],u=a.length,l=i[o]=new Array(u),f,c=0;c<u;++c)(f=a[c])&&(l[c]=f);l.sort(t)}return new C(i,this._parents).order()}function ru(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function zr(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Hr(){return Array.from(this)}function Yr(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function qr(){let e=0;for(let t of this)++e;return e}function Vr(){return!this.node()}function Gr(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,u;o<a;++o)(u=i[o])&&e.call(u,u.__data__,o,i);return this}function iu(e){return function(){this.removeAttribute(e)}}function ou(e){return function(){this.removeAttributeNS(e.space,e.local)}}function au(e,t){return function(){this.setAttribute(e,t)}}function uu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function lu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function fu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Xr(e,t){var n=j(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ou:iu:typeof t=="function"?n.local?fu:lu:n.local?uu:au)(n,t))}function gt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function su(e){return function(){this.style.removeProperty(e)}}function cu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pu(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ur(e,t,n){return arguments.length>1?this.each((t==null?su:typeof t=="function"?pu:cu)(e,t,n??"")):ee(this.node(),e)}function ee(e,t){return e.style.getPropertyValue(t)||gt(e).getComputedStyle(e,null).getPropertyValue(t)}function hu(e){return function(){delete this[e]}}function mu(e,t){return function(){this[e]=t}}function du(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Kr(e,t){return arguments.length>1?this.each((t==null?hu:typeof t=="function"?du:mu)(e,t)):this.node()[e]}function Wr(e){return e.trim().split(/^|\s+/)}function xn(e){return e.classList||new jr(e)}function jr(e){this._node=e,this._names=Wr(e.getAttribute("class")||"")}jr.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Qr(e,t){for(var n=xn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Zr(e,t){for(var n=xn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function xu(e){return function(){Qr(this,e)}}function gu(e){return function(){Zr(this,e)}}function yu(e,t){return function(){(t.apply(this,arguments)?Qr:Zr)(this,e)}}function Jr(e,t){var n=Wr(e+"");if(arguments.length<2){for(var r=xn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?yu:t?xu:gu)(n,t))}function _u(){this.textContent=""}function vu(e){return function(){this.textContent=e}}function wu(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ei(e){return arguments.length?this.each(e==null?_u:(typeof e=="function"?wu:vu)(e)):this.node().textContent}function bu(){this.innerHTML=""}function Au(e){return function(){this.innerHTML=e}}function ku(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ti(e){return arguments.length?this.each(e==null?bu:(typeof e=="function"?ku:Au)(e)):this.node().innerHTML}function Su(){this.nextSibling&&this.parentNode.appendChild(this)}function ni(){return this.each(Su)}function Cu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ri(){return this.each(Cu)}function ii(e){var t=typeof e=="function"?e:mt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Eu(){return null}function oi(e,t){var n=typeof e=="function"?e:mt(e),r=t==null?Eu:typeof t=="function"?t:ue(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Mu(){var e=this.parentNode;e&&e.removeChild(this)}function ai(){return this.each(Mu)}function Tu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Nu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ui(e){return this.select(e?Nu:Tu)}function li(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Iu(e){return function(t){e.call(this,t,this.__data__)}}function Ou(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Fu(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Lu(e,t,n){return function(){var r=this.__on,i,o=Iu(t);if(r){for(var a=0,u=r.length;a<u;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function fi(e,t,n){var r=Ou(e+""),i,o=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,f=u.length,c;l<f;++l)for(i=0,c=u[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(u=t?Lu:Fu,i=0;i<o;++i)this.each(u(r[i],t,n));return this}function si(e,t,n){var r=gt(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ru(e,t){return function(){return si(this,e,t)}}function Du(e,t){return function(){return si(this,e,t.apply(this,arguments))}}function ci(e,t){return this.each((typeof t=="function"?Du:Ru)(e,t))}function*pi(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var gn=[null];function C(e,t){this._groups=e,this._parents=t}function hi(){return new C([[document.documentElement]],gn)}function $u(){return this}C.prototype=hi.prototype={constructor:C,select:Er,selectAll:Mr,selectChild:Tr,selectChildren:Nr,filter:Ir,data:Lr,enter:Or,exit:Rr,join:Dr,merge:$r,selection:$u,order:Pr,sort:Br,call:zr,nodes:Hr,node:Yr,size:qr,empty:Vr,each:Gr,attr:Xr,style:Ur,property:Kr,classed:Jr,text:ei,html:ti,raise:ni,lower:ri,append:ii,insert:oi,remove:ai,clone:ui,datum:li,on:fi,dispatch:ci,[Symbol.iterator]:pi};var Q=hi;function yt(e){return typeof e=="string"?new C([[document.querySelector(e)]],[document.documentElement]):new C([[e]],gn)}function mi(e){let t;for(;t=e.sourceEvent;)e=t;return e}function yn(e,t){if(e=mi(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function _t(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _n(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pe(){}var De=.7,bt=1/De,ve="\\s*([+-]?\\d+)\\s*",$e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",X="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pu=/^#([0-9a-f]{3,8})$/,Bu=new RegExp(`^rgb\\(${ve},${ve},${ve}\\)$`),zu=new RegExp(`^rgb\\(${X},${X},${X}\\)$`),Hu=new RegExp(`^rgba\\(${ve},${ve},${ve},${$e}\\)$`),Yu=new RegExp(`^rgba\\(${X},${X},${X},${$e}\\)$`),qu=new RegExp(`^hsl\\(${$e},${X},${X}\\)$`),Vu=new RegExp(`^hsla\\(${$e},${X},${X},${$e}\\)$`),di={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_t(Pe,G,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xi,formatHex:xi,formatHex8:Gu,formatHsl:Xu,formatRgb:gi,toString:gi});function xi(){return this.rgb().formatHex()}function Gu(){return this.rgb().formatHex8()}function Xu(){return Ai(this).formatHsl()}function gi(){return this.rgb().formatRgb()}function G(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Pu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?yi(t):n===3?new z(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Bu.exec(e))?new z(t[1],t[2],t[3],1):(t=zu.exec(e))?new z(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Hu.exec(e))?vt(t[1],t[2],t[3],t[4]):(t=Yu.exec(e))?vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qu.exec(e))?wi(t[1],t[2]/100,t[3]/100,1):(t=Vu.exec(e))?wi(t[1],t[2]/100,t[3]/100,t[4]):di.hasOwnProperty(e)?yi(di[e]):e==="transparent"?new z(NaN,NaN,NaN,0):null}function yi(e){return new z(e>>16&255,e>>8&255,e&255,1)}function vt(e,t,n,r){return r<=0&&(e=t=n=NaN),new z(e,t,n,r)}function Uu(e){return e instanceof Pe||(e=G(e)),e?(e=e.rgb(),new z(e.r,e.g,e.b,e.opacity)):new z}function we(e,t,n,r){return arguments.length===1?Uu(e):new z(e,t,n,r??1)}function z(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_t(z,we,_n(Pe,{brighter(e){return e=e==null?bt:Math.pow(bt,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?De:Math.pow(De,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new z(fe(this.r),fe(this.g),fe(this.b),At(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_i,formatHex:_i,formatHex8:Ku,formatRgb:vi,toString:vi}));function _i(){return`#${le(this.r)}${le(this.g)}${le(this.b)}`}function Ku(){return`#${le(this.r)}${le(this.g)}${le(this.b)}${le((isNaN(this.opacity)?1:this.opacity)*255)}`}function vi(){let e=At(this.opacity);return`${e===1?"rgb(":"rgba("}${fe(this.r)}, ${fe(this.g)}, ${fe(this.b)}${e===1?")":`, ${e})`}`}function At(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function le(e){return e=fe(e),(e<16?"0":"")+e.toString(16)}function wi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new V(e,t,n,r)}function Ai(e){if(e instanceof V)return new V(e.h,e.s,e.l,e.opacity);if(e instanceof Pe||(e=G(e)),!e)return new V;if(e instanceof V)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,u=o-i,l=(o+i)/2;return u?(t===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-t)/u+2:a=(t-n)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new V(a,u,l,e.opacity)}function ki(e,t,n,r){return arguments.length===1?Ai(e):new V(e,t,n,r??1)}function V(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_t(V,ki,_n(Pe,{brighter(e){return e=e==null?bt:Math.pow(bt,e),new V(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?De:Math.pow(De,e),new V(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new z(vn(e>=240?e-240:e+120,i,r),vn(e,i,r),vn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new V(bi(this.h),wt(this.s),wt(this.l),At(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=At(this.opacity);return`${e===1?"hsl(":"hsla("}${bi(this.h)}, ${wt(this.s)*100}%, ${wt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bi(e){return e=(e||0)%360,e<0?e+360:e}function wt(e){return Math.max(0,Math.min(1,e||0))}function vn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function wn(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function Si(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,u=r<t-1?e[r+2]:2*o-i;return wn((n-r/t)*t,a,i,o,u)}}function Ci(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],u=e[(r+2)%t];return wn((n-r/t)*t,i,o,a,u)}}var Be=e=>()=>e;function Wu(e,t){return function(n){return e+n*t}}function ju(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ei(e){return(e=+e)==1?kt:function(t,n){return n-t?ju(t,n,e):Be(isNaN(t)?n:t)}}function kt(e,t){var n=t-e;return n?Wu(e,n):Be(isNaN(e)?t:e)}var se=function e(t){var n=Ei(t);function r(i,o){var a=n((i=we(i)).r,(o=we(o)).r),u=n(i.g,o.g),l=n(i.b,o.b),f=kt(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=u(c),i.b=l(c),i.opacity=f(c),i+""}}return r.gamma=e,r}(1);function Mi(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,u;for(a=0;a<n;++a)u=we(t[a]),r[a]=u.r||0,i[a]=u.g||0,o[a]=u.b||0;return r=e(r),i=e(i),o=e(o),u.opacity=1,function(l){return u.r=r(l),u.g=i(l),u.b=o(l),u+""}}}var Qu=Mi(Si),Zu=Mi(Ci);function Ti(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Ni(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ii(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ce(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function Oi(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function F(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fi(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ce(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var An=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bn=new RegExp(An.source,"g");function Ju(e){return function(){return e}}function el(e){return function(t){return e(t)+""}}function ze(e,t){var n=An.lastIndex=bn.lastIndex=0,r,i,o,a=-1,u=[],l=[];for(e=e+"",t=t+"";(r=An.exec(e))&&(i=bn.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,l.push({i:a,x:F(r,i)})),n=bn.lastIndex;return n<t.length&&(o=t.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?l[0]?el(l[0].x):Ju(t):(t=l.length,function(f){for(var c=0,s;c<t;++c)u[(s=l[c]).i]=s.x(f);return u.join("")})}function ce(e,t){var n=typeof t,r;return t==null||n==="boolean"?Be(t):(n==="number"?F:n==="string"?(r=G(t))?(t=r,se):ze:t instanceof G?se:t instanceof Date?Oi:Ni(t)?Ti:Array.isArray(t)?Ii:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fi:F)(e,t)}function kn(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Li=180/Math.PI,St={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sn(e,t,n,r,i,o){var a,u,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Li,skewX:Math.atan(l)*Li,scaleX:a,scaleY:u}}var Ct;function Ri(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?St:Sn(t.a,t.b,t.c,t.d,t.e,t.f)}function Di(e){return e==null?St:(Ct||(Ct=document.createElementNS("http://www.w3.org/2000/svg","g")),Ct.setAttribute("transform",e),(e=Ct.transform.baseVal.consolidate())?(e=e.matrix,Sn(e.a,e.b,e.c,e.d,e.e,e.f)):St)}function $i(e,t,n,r){function i(f){return f.length?f.pop()+" ":""}function o(f,c,s,p,h,m){if(f!==s||c!==p){var d=h.push("translate(",null,t,null,n);m.push({i:d-4,x:F(f,s)},{i:d-2,x:F(c,p)})}else(s||p)&&h.push("translate("+s+t+p+n)}function a(f,c,s,p){f!==c?(f-c>180?c+=360:c-f>180&&(f+=360),p.push({i:s.push(i(s)+"rotate(",null,r)-2,x:F(f,c)})):c&&s.push(i(s)+"rotate("+c+r)}function u(f,c,s,p){f!==c?p.push({i:s.push(i(s)+"skewX(",null,r)-2,x:F(f,c)}):c&&s.push(i(s)+"skewX("+c+r)}function l(f,c,s,p,h,m){if(f!==s||c!==p){var d=h.push(i(h)+"scale(",null,",",null,")");m.push({i:d-4,x:F(f,s)},{i:d-2,x:F(c,p)})}else(s!==1||p!==1)&&h.push(i(h)+"scale("+s+","+p+")")}return function(f,c){var s=[],p=[];return f=e(f),c=e(c),o(f.translateX,f.translateY,c.translateX,c.translateY,s,p),a(f.rotate,c.rotate,s,p),u(f.skewX,c.skewX,s,p),l(f.scaleX,f.scaleY,c.scaleX,c.scaleY,s,p),f=c=null,function(h){for(var m=-1,d=p.length,y;++m<d;)s[(y=p[m]).i]=y.x(h);return s.join("")}}}var Cn=$i(Ri,"px, ","px)","deg)"),En=$i(Di,", ",")",")");var be=0,Ye=0,He=0,Bi=1e3,Et,qe,Mt=0,pe=0,Tt=0,Ve=typeof performance=="object"&&performance.now?performance:Date,zi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Xe(){return pe||(zi(tl),pe=Ve.now()+Tt)}function tl(){pe=0}function Ge(){this._call=this._time=this._next=null}Ge.prototype=Nt.prototype={constructor:Ge,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Xe():+n)+(t==null?0:+t),!this._next&&qe!==this&&(qe?qe._next=this:Et=this,qe=this),this._call=e,this._time=n,Mn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mn())}};function Nt(e,t,n){var r=new Ge;return r.restart(e,t,n),r}function Hi(){Xe(),++be;for(var e=Et,t;e;)(t=pe-e._time)>=0&&e._call.call(void 0,t),e=e._next;--be}function Pi(){pe=(Mt=Ve.now())+Tt,be=Ye=0;try{Hi()}finally{be=0,rl(),pe=0}}function nl(){var e=Ve.now(),t=e-Mt;t>Bi&&(Tt-=t,Mt=e)}function rl(){for(var e,t=Et,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Et=n);qe=e,Mn(r)}function Mn(e){if(!be){Ye&&(Ye=clearTimeout(Ye));var t=e-pe;t>24?(e<1/0&&(Ye=setTimeout(Pi,e-Ve.now()-Tt)),He&&(He=clearInterval(He))):(He||(Mt=Ve.now(),He=setInterval(nl,Bi)),be=1,zi(Pi))}}function It(e,t,n){var r=new Ge;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var il=hn("start","end","cancel","interrupt"),ol=[],Vi=0,Yi=1,Ft=2,Ot=3,qi=4,Lt=5,Ue=6;function te(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;al(e,n,{name:t,index:r,group:i,on:il,tween:ol,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Vi})}function Ke(e,t){var n=I(e,t);if(n.state>Vi)throw new Error("too late; already scheduled");return n}function L(e,t){var n=I(e,t);if(n.state>Ot)throw new Error("too late; already running");return n}function I(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function al(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Nt(o,0,n.time);function o(f){n.state=Yi,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var c,s,p,h;if(n.state!==Yi)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Ot)return It(a);h.state===qi?(h.state=Ue,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Ue,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(It(function(){n.state===Ot&&(n.state=qi,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Ft,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ft){for(n.state=Ot,i=new Array(p=n.tween.length),c=0,s=-1;c<p;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++s]=h);i.length=s+1}}function u(f){for(var c=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(l),n.state=Lt,1),s=-1,p=i.length;++s<p;)i[s].call(e,c);n.state===Lt&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ue,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function Rt(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Ft&&r.state<Lt,r.state=Ue,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function Gi(e){return this.each(function(){Rt(this,e)})}function ul(e,t){var n,r;return function(){var i=L(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,u=r.length;a<u;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function ll(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=L(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:t,value:n},l=0,f=i.length;l<f;++l)if(i[l].name===t){i[l]=u;break}l===f&&i.push(u)}o.tween=i}}function Xi(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=I(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?ul:ll)(n,e,t))}function Ae(e,t,n){var r=e._id;return e.each(function(){var i=L(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return I(i,r).value[t]}}function Dt(e,t){var n;return(typeof t=="number"?F:t instanceof G?se:(n=G(t))?(t=n,se):ze)(e,t)}function fl(e){return function(){this.removeAttribute(e)}}function sl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cl(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function pl(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function hl(e,t,n){var r,i,o;return function(){var a,u=n(this),l;return u==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=u+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,u)))}}function ml(e,t,n){var r,i,o;return function(){var a,u=n(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=u+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,u)))}}function Ui(e,t){var n=j(e),r=n==="transform"?En:Dt;return this.attrTween(e,typeof t=="function"?(n.local?ml:hl)(n,r,Ae(this,"attr."+e,t)):t==null?(n.local?sl:fl)(n):(n.local?pl:cl)(n,r,t))}function dl(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function xl(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function gl(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&xl(e,o)),n}return i._value=t,i}function yl(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&dl(e,o)),n}return i._value=t,i}function Ki(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=j(e);return this.tween(n,(r.local?gl:yl)(r,t))}function _l(e,t){return function(){Ke(this,e).delay=+t.apply(this,arguments)}}function vl(e,t){return t=+t,function(){Ke(this,e).delay=t}}function Wi(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_l:vl)(t,e)):I(this.node(),t).delay}function wl(e,t){return function(){L(this,e).duration=+t.apply(this,arguments)}}function bl(e,t){return t=+t,function(){L(this,e).duration=t}}function ji(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?wl:bl)(t,e)):I(this.node(),t).duration}function Al(e,t){if(typeof t!="function")throw new Error;return function(){L(this,e).ease=t}}function Qi(e){var t=this._id;return arguments.length?this.each(Al(t,e)):I(this.node(),t).ease}function kl(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;L(this,e).ease=n}}function Zi(e){if(typeof e!="function")throw new Error;return this.each(kl(this._id,e))}function Ji(e){typeof e!="function"&&(e=Le(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,u=r[i]=[],l,f=0;f<a;++f)(l=o[f])&&e.call(l,l.__data__,f,o)&&u.push(l);return new P(r,this._parents,this._name,this._id)}function eo(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var l=t[u],f=n[u],c=l.length,s=a[u]=new Array(c),p,h=0;h<c;++h)(p=l[h]||f[h])&&(s[h]=p);for(;u<r;++u)a[u]=t[u];return new P(a,this._parents,this._name,this._id)}function Sl(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Cl(e,t,n){var r,i,o=Sl(t)?Ke:L;return function(){var a=o(this,e),u=a.on;u!==r&&(i=(r=u).copy()).on(t,n),a.on=i}}function to(e,t){var n=this._id;return arguments.length<2?I(this.node(),n).on.on(e):this.each(Cl(n,e,t))}function El(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function no(){return this.on("end.remove",El(this._id))}function ro(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ue(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u=r[a],l=u.length,f=o[a]=new Array(l),c,s,p=0;p<l;++p)(c=u[p])&&(s=e.call(c,c.__data__,p,u))&&("__data__"in c&&(s.__data__=c.__data__),f[p]=s,te(f[p],t,n,p,f,I(c,n)));return new P(o,this._parents,t,n)}function io(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Fe(e));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var l=r[u],f=l.length,c,s=0;s<f;++s)if(c=l[s]){for(var p=e.call(c,c.__data__,s,l),h,m=I(c,n),d=0,y=p.length;d<y;++d)(h=p[d])&&te(h,t,n,d,p,m);o.push(p),a.push(c)}return new P(o,a,t,n)}var Ml=Q.prototype.constructor;function oo(){return new Ml(this._groups,this._parents)}function Tl(e,t){var n,r,i;return function(){var o=ee(this,e),a=(this.style.removeProperty(e),ee(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function ao(e){return function(){this.style.removeProperty(e)}}function Nl(e,t,n){var r,i=n+"",o;return function(){var a=ee(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function Il(e,t,n){var r,i,o;return function(){var a=ee(this,e),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),ee(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,u))}}function Ol(e,t){var n,r,i,o="style."+t,a="end."+o,u;return function(){var l=L(this,e),f=l.on,c=l.value[o]==null?u||(u=ao(t)):void 0;(f!==n||i!==c)&&(r=(n=f).copy()).on(a,i=c),l.on=r}}function uo(e,t,n){var r=(e+="")=="transform"?Cn:Dt;return t==null?this.styleTween(e,Tl(e,r)).on("end.style."+e,ao(e)):typeof t=="function"?this.styleTween(e,Il(e,r,Ae(this,"style."+e,t))).each(Ol(this._id,e)):this.styleTween(e,Nl(e,r,t),n).on("end.style."+e,null)}function Fl(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ll(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Fl(e,a,n)),r}return o._value=t,o}function lo(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Ll(e,t,n??""))}function Rl(e){return function(){this.textContent=e}}function Dl(e){return function(){var t=e(this);this.textContent=t??""}}function fo(e){return this.tween("text",typeof e=="function"?Dl(Ae(this,"text",e)):Rl(e==null?"":e+""))}function $l(e){return function(t){this.textContent=e.call(this,t)}}function Pl(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&$l(i)),t}return r._value=e,r}function so(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Pl(e))}function co(){for(var e=this._name,t=this._id,n=$t(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,l,f=0;f<u;++f)if(l=a[f]){var c=I(l,t);te(l,e,n,f,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new P(r,this._parents,e,n)}function po(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var u={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var f=L(this,r),c=f.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),f.on=t}),i===0&&o()})}var Bl=0;function P(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ho(e){return Q().transition(e)}function $t(){return++Bl}var Z=Q.prototype;P.prototype=ho.prototype={constructor:P,select:ro,selectAll:io,selectChild:Z.selectChild,selectChildren:Z.selectChildren,filter:Ji,merge:eo,selection:oo,transition:co,call:Z.call,nodes:Z.nodes,node:Z.node,size:Z.size,empty:Z.empty,each:Z.each,on:to,attr:Ui,attrTween:Ki,style:uo,styleTween:lo,text:fo,textTween:so,remove:no,tween:Xi,delay:Wi,duration:ji,ease:Qi,easeVarying:Zi,end:po,[Symbol.iterator]:Z[Symbol.iterator]};function Tn(e){return--e*e*e+1}function Pt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zl={time:null,delay:0,duration:250,ease:Pt};function Hl(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function mo(e){var t,n;e instanceof P?(t=e._id,e=e._name):(t=$t(),(n=zl).time=Xe(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,l,f=0;f<u;++f)(l=a[f])&&te(l,e,t,f,a,n||Hl(l,t));return new P(r,this._parents,e,t)}Q.prototype.interrupt=Gi;Q.prototype.transition=mo;var{abs:gx,max:yx,min:_x}=Math;function xo(e){return[+e[0],+e[1]]}function Yl(e){return[xo(e[0]),xo(e[1])]}var vx={name:"x",handles:["w","e"].map(Nn),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},wx={name:"y",handles:["n","s"].map(Nn),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},bx={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Nn),input:function(e){return e==null?null:Yl(e)},output:function(e){return e}};function Nn(e){return{type:e}}var In=Math.PI,On=2*In,he=1e-6,ql=On-he;function go(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Vl(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return go;let n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}var me=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?go:Vl(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,l=r-t,f=i-n,c=a-t,s=u-n,p=c*c+s*s;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>he)if(!(Math.abs(s*l-f*c)>he)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,m=i-u,d=l*l+f*f,y=h*h+m*m,v=Math.sqrt(d),x=Math.sqrt(p),b=o*Math.tan((In-Math.acos((d+p-y)/(2*v*x)))/2),E=b/x,A=b/v;Math.abs(E-1)>he&&this._append`L${t+E*c},${n+E*s}`,this._append`A${o},${o},0,0,${+(s*h>c*m)},${this._x1=t+A*l},${this._y1=n+A*f}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),l=r*Math.sin(i),f=t+u,c=n+l,s=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>he||Math.abs(this._y1-c)>he)&&this._append`L${f},${c}`,r&&(p<0&&(p=p%On+On),p>ql?this._append`A${r},${r},0,1,${s},${t-u},${n-l}A${r},${r},0,1,${s},${this._x1=f},${this._y1=c}`:p>he&&this._append`A${r},${r},0,${+(p>=In)},${s},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function yo(){return new me}yo.prototype=me.prototype;function _o(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function de(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function U(e){return e=de(Math.abs(e)),e?e[1]:NaN}function vo(e,t){return function(n,r){for(var i=n.length,o=[],a=0,u=e[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(n.substring(i-=u,i+u)),!((l+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(t)}}function wo(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Gl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ne(e){if(!(t=Gl.exec(e)))throw new Error("invalid format: "+e);var t;return new Bt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ne.prototype=Bt.prototype;function Bt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Bt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bo(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Fn;function Ao(e,t){var n=de(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Fn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+de(e,Math.max(0,t+o-1))[0]}function Ln(e,t){var n=de(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Rn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_o,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ln(e*100,t),r:Ln,s:Ao,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Dn(e){return e}var ko=Array.prototype.map,So=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Co(e){var t=e.grouping===void 0||e.thousands===void 0?Dn:vo(ko.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Dn:wo(ko.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function f(s){s=ne(s);var p=s.fill,h=s.align,m=s.sign,d=s.symbol,y=s.zero,v=s.width,x=s.comma,b=s.precision,E=s.trim,A=s.type;A==="n"?(x=!0,A="g"):Rn[A]||(b===void 0&&(b=12),E=!0,A="g"),(y||p==="0"&&h==="=")&&(y=!0,p="0",h="=");var q=d==="$"?n:d==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",B=d==="$"?r:/[%p]/.test(A)?a:"",w=Rn[A],M=/[defgprs%]/.test(A);b=b===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function $(_){var k=q,S=B,ye,sr,tt;if(A==="c")S=w(_)+S,_="";else{_=+_;var nt=_<0||1/_<0;if(_=isNaN(_)?l:w(Math.abs(_),b),E&&(_=bo(_)),nt&&+_==0&&m!=="+"&&(nt=!1),k=(nt?m==="("?m:u:m==="-"||m==="("?"":m)+k,S=(A==="s"?So[8+Fn/3]:"")+S+(nt&&m==="("?")":""),M){for(ye=-1,sr=_.length;++ye<sr;)if(tt=_.charCodeAt(ye),48>tt||tt>57){S=(tt===46?i+_.slice(ye+1):_.slice(ye))+S,_=_.slice(0,ye);break}}}x&&!y&&(_=t(_,1/0));var rt=k.length+_.length+S.length,W=rt<v?new Array(v-rt+1).join(p):"";switch(x&&y&&(_=t(W+_,W.length?v-S.length:1/0),W=""),h){case"<":_=k+_+S+W;break;case"=":_=k+W+_+S;break;case"^":_=W.slice(0,rt=W.length>>1)+k+_+S+W.slice(rt);break;default:_=W+k+_+S;break}return o(_)}return $.toString=function(){return s+""},$}function c(s,p){var h=f((s=ne(s),s.type="f",s)),m=Math.max(-8,Math.min(8,Math.floor(U(p)/3)))*3,d=Math.pow(10,-m),y=So[8+m/3];return function(v){return h(d*v)+y}}return{format:f,formatPrefix:c}}var zt,Ht,Yt;$n({thousands:",",grouping:[3],currency:["$",""]});function $n(e){return zt=Co(e),Ht=zt.format,Yt=zt.formatPrefix,zt}function Pn(e){return Math.max(0,-U(Math.abs(e)))}function Bn(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(U(t)/3)))*3-U(Math.abs(e)))}function zn(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,U(t)-U(e))+1}function ke(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var Eo=Symbol("implicit");function qt(){var e=new _e,t=[],n=[],r=Eo;function i(o){let a=e.get(o);if(a===void 0){if(r!==Eo)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new _e;for(let a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qt(t,n).unknown(r)},ke.apply(i,arguments),i}function Vt(){var e=qt().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,u=!1,l=0,f=0,c=.5;delete e.unknown;function s(){var p=t().length,h=i<r,m=h?i:r,d=h?r:i;o=(d-m)/Math.max(1,p-l+f*2),u&&(o=Math.floor(o)),m+=(d-m-o*(p-l))*c,a=o*(1-l),u&&(m=Math.round(m),a=Math.round(a));var y=st(p).map(function(v){return m+o*v});return n(h?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),s()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,s()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,u=!0,s()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(p){return arguments.length?(u=!!p,s()):u},e.padding=function(p){return arguments.length?(l=Math.min(1,f=+p),s()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),s()):l},e.paddingOuter=function(p){return arguments.length?(f=+p,s()):f},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),s()):c},e.copy=function(){return Vt(t(),[r,i]).round(u).paddingInner(l).paddingOuter(f).align(c)},ke.apply(s(),arguments)}function Mo(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Mo(t())},e}function Hn(){return Mo(Vt.apply(null,arguments).paddingInner(1))}function Yn(e){return function(){return e}}function qn(e){return+e}var To=[0,1];function Se(e){return e}function Vn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Yn(isNaN(t)?NaN:.5)}function Xl(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ul(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Vn(i,r),o=n(a,o)):(r=Vn(r,i),o=n(o,a)),function(u){return o(r(u))}}function Kl(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Vn(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(u){var l=un(e,u,1,r)-1;return o[l](i[l](u))}}function No(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Wl(){var e=To,t=To,n=ce,r,i,o,a=Se,u,l,f;function c(){var p=Math.min(e.length,t.length);return a!==Se&&(a=Xl(e[0],e[p-1])),u=p>2?Kl:Ul,l=f=null,s}function s(p){return p==null||isNaN(p=+p)?o:(l||(l=u(e.map(r),t,n)))(r(a(p)))}return s.invert=function(p){return a(i((f||(f=u(t,e.map(r),F)))(p)))},s.domain=function(p){return arguments.length?(e=Array.from(p,qn),c()):e.slice()},s.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},s.rangeRound=function(p){return t=Array.from(p),n=kn,c()},s.clamp=function(p){return arguments.length?(a=p?!0:Se,c()):a!==Se},s.interpolate=function(p){return arguments.length?(n=p,c()):n},s.unknown=function(p){return arguments.length?(o=p,s):o},function(p,h){return r=p,i=h,c()}}function Gn(){return Wl()(Se,Se)}function Xn(e,t,n,r){var i=ln(e,t,n),o;switch(r=ne(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Bn(i,a))&&(r.precision=o),Yt(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=zn(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Pn(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ht(r)}function jl(e){var t=e.domain;return e.ticks=function(n){var r=t();return ut(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Xn(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],u=r[o],l,f,c=10;for(u<a&&(f=a,a=u,u=f,f=i,i=o,o=f);c-- >0;){if(f=Ie(a,u,n),f===l)return r[i]=a,r[o]=u,t(r);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;l=f}return e},e}function Ce(){var e=Gn();return e.copy=function(){return No(e,Ce())},ke.apply(e,arguments),jl(e)}function T(e){return function(){return e}}var Un=1e-12,Io=Math.PI,Xg=Io/2,Ug=2*Io;function Gt(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new me(t)}var Qg=Array.prototype.slice;function Xt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Oo(e){this._context=e}Oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ut(e){return new Oo(e)}function Kt(e){return e[0]}function Wt(e){return e[1]}function We(e,t){var n=T(!0),r=null,i=Ut,o=null,a=Gt(u);e=typeof e=="function"?e:e===void 0?Kt:T(e),t=typeof t=="function"?t:t===void 0?Wt:T(t);function u(l){var f,c=(l=Xt(l)).length,s,p=!1,h;for(r==null&&(o=i(h=a())),f=0;f<=c;++f)!(f<c&&n(s=l[f],f,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(s,f,l),+t(s,f,l));if(h)return o=null,h+""||null}return u.x=function(l){return arguments.length?(e=typeof l=="function"?l:T(+l),u):e},u.y=function(l){return arguments.length?(t=typeof l=="function"?l:T(+l),u):t},u.defined=function(l){return arguments.length?(n=typeof l=="function"?l:T(!!l),u):n},u.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),u):i},u.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),u):r},u}function Kn(e,t,n){var r=null,i=T(!0),o=null,a=Ut,u=null,l=Gt(f);e=typeof e=="function"?e:e===void 0?Kt:T(+e),t=typeof t=="function"?t:t===void 0?T(0):T(+t),n=typeof n=="function"?n:n===void 0?Wt:T(+n);function f(s){var p,h,m,d=(s=Xt(s)).length,y,v=!1,x,b=new Array(d),E=new Array(d);for(o==null&&(u=a(x=l())),p=0;p<=d;++p){if(!(p<d&&i(y=s[p],p,s))===v)if(v=!v)h=p,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),m=p-1;m>=h;--m)u.point(b[m],E[m]);u.lineEnd(),u.areaEnd()}v&&(b[p]=+e(y,p,s),E[p]=+t(y,p,s),u.point(r?+r(y,p,s):b[p],n?+n(y,p,s):E[p]))}if(x)return u=null,x+""||null}function c(){return We().defined(i).curve(a).context(o)}return f.x=function(s){return arguments.length?(e=typeof s=="function"?s:T(+s),r=null,f):e},f.x0=function(s){return arguments.length?(e=typeof s=="function"?s:T(+s),f):e},f.x1=function(s){return arguments.length?(r=s==null?null:typeof s=="function"?s:T(+s),f):r},f.y=function(s){return arguments.length?(t=typeof s=="function"?s:T(+s),n=null,f):t},f.y0=function(s){return arguments.length?(t=typeof s=="function"?s:T(+s),f):t},f.y1=function(s){return arguments.length?(n=s==null?null:typeof s=="function"?s:T(+s),f):n},f.lineX0=f.lineY0=function(){return c().x(e).y(t)},f.lineY1=function(){return c().x(e).y(n)},f.lineX1=function(){return c().x(r).y(t)},f.defined=function(s){return arguments.length?(i=typeof s=="function"?s:T(!!s),f):i},f.curve=function(s){return arguments.length?(a=s,o!=null&&(u=a(o)),f):a},f.context=function(s){return arguments.length?(s==null?o=u=null:u=a(o=s),f):o},f}function Fo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function jt(e,t){this._context=e,this._k=(1-t)/6}jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Fo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var my=function e(t){function n(r){return new jt(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ql(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Un){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Un){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*f+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*f+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Lo(e,t){this._context=e,this._alpha=t}Lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ql(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Qt=function e(t){function n(r){return t?new Lo(r,t):new jt(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function re(e,t,n){this.k=e,this.x=t,this.y=n}re.prototype={constructor:re,scale:function(e){return e===1?this:new re(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new re(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wn=new re(1,0,0);jn.prototype=re.prototype;function jn(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Wn;return e.__zoom}var ef=["chartContainer"],Ro=class e{data=[];color="#00cc76";width=700;height=300;unit="\xB0C";chartContainer;rootSvg;chartGroup;margin={top:30,right:20,bottom:40,left:60};lastSelectedIndex=null;lastTooltipPos=null;isHovering=!1;ngOnInit(){this.initChart(),this.data?.length&&this.updateChart(this.data)}ngOnChanges(t){this.rootSvg&&(t.data||t.color)&&this.updateChart(this.data)}ngOnDestroy(){this.rootSvg?.remove()}initChart(){let t=this.chartContainer.nativeElement;this.rootSvg=yt(t).append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox",`0 0 ${this.width} ${this.height}`).style("width","100%").style("height","auto");let n=this.rootSvg.append("defs"),r=`lineGradient-${this.color.replace("#","")}`,i=n.append("linearGradient").attr("id",r).attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");i.append("stop").attr("offset","0%").attr("stop-color",this.color).attr("stop-opacity",.9),i.append("stop").attr("offset","100%").attr("stop-color",this.color).attr("stop-opacity",.1),this.chartGroup=this.rootSvg.append("g").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`)}updateChart(t){if(!t||t.length===0)return;let n=new Date,r=n.getHours()*60+n.getMinutes(),o=t.filter(w=>{let[M,$]=w.minute.split(":").map(Number);return M*60+$<=r}).map(w=>({minute:w.minute.slice(0,5),value:w.value})),a=this.width-this.margin.left-this.margin.right,u=this.height-this.margin.top-this.margin.bottom,l=Ce().domain([0,o.length-1]).range([0,a]),f=ft(o,w=>w.value)??0,c=lt(o,w=>w.value)??0,s=Ce().domain([f-1,c+1]).range([u,0]);this.chartGroup.selectAll("*").remove(),this.chartGroup.append("g").call(ct(s).ticks(4).tickSize(-a).tickFormat(()=>"")).attr("stroke","#d1d5db").attr("stroke-opacity",.2).attr("stroke-dasharray","3,3");let p=Hn(o.map((w,M)=>M.toString()),[0,a]),h=pn(p).tickValues(o.map((w,M)=>M%60===0?M.toString():null).filter(w=>w!==null)).tickFormat(w=>o[+w].minute);this.chartGroup.append("g").attr("transform",`translate(0,${u})`).call(h).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end").style("font-size","10px").style("fill","#374151"),this.chartGroup.append("g").call(ct(s).ticks(6).tickFormat(w=>`${w} ${this.unit}`)).selectAll("text").style("font-size","10px").style("fill","#374151");let m=`lineGradient-${this.color.replace("#","")}`,d=Kn().x((w,M)=>l(M)).y0(u).y1(w=>s(w.value)).curve(Qt.alpha(.5));this.chartGroup.append("path").datum(o).attr("fill",`url(#${m})`).attr("opacity",.25).attr("d",d);let y=We().x((w,M)=>l(M)).y(w=>s(w.value)).curve(Qt.alpha(.5)),v=this.chartGroup.append("path").datum(o).attr("fill","none").attr("stroke",`url(#${m})`).attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",y).style("pointer-events","none"),x=v.node().getTotalLength();v.attr("stroke-dasharray",`${x} ${x}`).attr("stroke-dashoffset",x).transition().duration(1200).ease(Tn).attr("stroke-dashoffset",0);let b=yt(this.chartContainer.nativeElement).selectAll("div.chart-tooltip").data([null]).join("div").attr("class","chart-tooltip").style("position","absolute").style("background","white").style("border","1px solid #ddd").style("padding","10px 14px").style("border-radius","8px").style("font-size","14px").style("font-weight","500").style("pointer-events","none").style("color","#111").style("box-shadow","0 4px 10px rgba(0,0,0,0.15)").style("display","none"),E=this.chartGroup.append("line").attr("stroke",this.color).attr("stroke-width",1).attr("y1",0).attr("y2",u).style("display","none"),A=this.chartGroup.append("circle").attr("r",5).attr("fill",this.color).attr("stroke","white").attr("stroke-width",2).style("display","none"),q=this.chartGroup.append("rect").attr("width",a).attr("height",u).attr("fill","transparent").style("cursor","crosshair"),B=(w,M,$)=>{let _=o[w],k=l(w),S=s(_.value);E.style("display","block").attr("x1",k).attr("x2",k),A.style("display","block").attr("cx",k).attr("cy",S),b.style("display","block").style("left",`${M}px`).style("top",`${$}px`).html(`<strong>${_.minute}</strong><br>${_.value.toFixed(2)} ${this.unit}`)};q.on("mousemove",w=>{this.isHovering=!0;let[M]=yn(w),$=Math.max(0,Math.min(Math.round(l.invert(M)),o.length-1)),_=this.chartContainer.nativeElement.getBoundingClientRect(),k=w.clientX-_.left+12,S=w.clientY-_.top-40;this.lastSelectedIndex=$,this.lastTooltipPos={left:k,top:S},B($,k,S)}),q.on("mouseleave",()=>{this.isHovering=!1,this.lastSelectedIndex=null,this.lastTooltipPos=null,E.style("display","none"),A.style("display","none"),b.style("display","none")}),this.isHovering&&this.lastSelectedIndex!==null&&this.lastTooltipPos!==null&&this.lastSelectedIndex<o.length&&B(this.lastSelectedIndex,this.lastTooltipPos.left,this.lastTooltipPos.top)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=mr({type:e,selectors:[["line-chart"]],viewQuery:function(n,r){if(n&1&&xr(ef,7),n&2){let i;gr(i=yr())&&(r.chartContainer=i.first)}},inputs:{data:"data",color:"color",width:"width",height:"height",unit:"unit"},features:[hr],decls:2,vars:0,consts:[["chartContainer",""],[1,"relative","w-full","h-full"]],template:function(n,r){n&1&&dr(0,"div",1,0)},encapsulation:2})};function Qo(e){return typeof e>"u"||e===null}function tf(e){return typeof e=="object"&&e!==null}function nf(e){return Array.isArray(e)?e:Qo(e)?[]:[e]}function rf(e,t){var n,r,i,o;if(t)for(o=Object.keys(t),n=0,r=o.length;n<r;n+=1)i=o[n],e[i]=t[i];return e}function of(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function af(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var uf=Qo,lf=tf,ff=nf,sf=of,cf=af,pf=rf,O={isNothing:uf,isObject:lf,toArray:ff,repeat:sf,isNegativeZero:cf,extend:pf};function Zo(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function Qe(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Zo(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Qe.prototype=Object.create(Error.prototype);Qe.prototype.constructor=Qe;Qe.prototype.toString=function(t){return this.name+": "+Zo(this,t)};var H=Qe;function Qn(e,t,n,r,i){var o="",a="",u=Math.floor(i/2)-1;return r-t>u&&(o=" ... ",t=r-u+o.length),n-r>u&&(a=" ...",n=r+u-a.length),{str:o+e.slice(t,n).replace(/\t/g,"\u2192")+a,pos:r-t+o.length}}function Zn(e,t){return O.repeat(" ",t-e.length)+e}function hf(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],o,a=-1;o=n.exec(e.buffer);)i.push(o.index),r.push(o.index+o[0].length),e.position<=o.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var u="",l,f,c=Math.min(e.line+t.linesAfter,i.length).toString().length,s=t.maxLength-(t.indent+c+3);for(l=1;l<=t.linesBefore&&!(a-l<0);l++)f=Qn(e.buffer,r[a-l],i[a-l],e.position-(r[a]-r[a-l]),s),u=O.repeat(" ",t.indent)+Zn((e.line-l+1).toString(),c)+" | "+f.str+`
`+u;for(f=Qn(e.buffer,r[a],i[a],e.position,s),u+=O.repeat(" ",t.indent)+Zn((e.line+1).toString(),c)+" | "+f.str+`
`,u+=O.repeat("-",t.indent+c+3+f.pos)+`^
`,l=1;l<=t.linesAfter&&!(a+l>=i.length);l++)f=Qn(e.buffer,r[a+l],i[a+l],e.position-(r[a]-r[a+l]),s),u+=O.repeat(" ",t.indent)+Zn((e.line+l+1).toString(),c)+" | "+f.str+`
`;return u.replace(/\n$/,"")}var mf=hf,df=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],xf=["scalar","sequence","mapping"];function gf(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function yf(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(df.indexOf(n)===-1)throw new H('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=gf(t.styleAliases||null),xf.indexOf(this.kind)===-1)throw new H('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var R=yf;function Do(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(o,a){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(i=a)}),n[i]=r}),n}function _f(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function er(e){return this.extend(e)}er.prototype.extend=function(t){var n=[],r=[];if(t instanceof R)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new H("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof R))throw new H("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new H("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new H("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof R))throw new H("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(er.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=Do(i,"implicit"),i.compiledExplicit=Do(i,"explicit"),i.compiledTypeMap=_f(i.compiledImplicit,i.compiledExplicit),i};var vf=er,wf=new R("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),bf=new R("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Af=new R("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),kf=new vf({explicit:[wf,bf,Af]});function Sf(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Cf(){return null}function Ef(e){return e===null}var Mf=new R("tag:yaml.org,2002:null",{kind:"scalar",resolve:Sf,construct:Cf,predicate:Ef,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Tf(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Nf(e){return e==="true"||e==="True"||e==="TRUE"}function If(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Of=new R("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Tf,construct:Nf,predicate:If,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Ff(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Lf(e){return 48<=e&&e<=55}function Rf(e){return 48<=e&&e<=57}function Df(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!Ff(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!Lf(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!Rf(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function $f(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function Pf(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!O.isNegativeZero(e)}var Bf=new R("tag:yaml.org,2002:int",{kind:"scalar",resolve:Df,construct:$f,predicate:Pf,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),zf=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Hf(e){return!(e===null||!zf.test(e)||e[e.length-1]==="_")}function Yf(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var qf=/^[-+]?[0-9]+e/;function Vf(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(O.isNegativeZero(e))return"-0.0";return n=e.toString(10),qf.test(n)?n.replace("e",".e"):n}function Gf(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||O.isNegativeZero(e))}var Xf=new R("tag:yaml.org,2002:float",{kind:"scalar",resolve:Hf,construct:Yf,predicate:Gf,represent:Vf,defaultStyle:"lowercase"}),Uf=kf.extend({implicit:[Mf,Of,Bf,Xf]}),Kf=Uf,Jo=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ea=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Wf(e){return e===null?!1:Jo.exec(e)!==null||ea.exec(e)!==null}function jf(e){var t,n,r,i,o,a,u,l=0,f=null,c,s,p;if(t=Jo.exec(e),t===null&&(t=ea.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(o=+t[4],a=+t[5],u=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=+t[10],s=+(t[11]||0),f=(c*60+s)*6e4,t[9]==="-"&&(f=-f)),p=new Date(Date.UTC(n,r,i,o,a,u,l)),f&&p.setTime(p.getTime()-f),p}function Qf(e){return e.toISOString()}var Zf=new R("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Wf,construct:jf,instanceOf:Date,represent:Qf});function Jf(e){return e==="<<"||e===null}var es=new R("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Jf}),or=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ts(e){if(e===null)return!1;var t,n,r=0,i=e.length,o=or;for(n=0;n<i;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function ns(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,o=or,a=0,u=[];for(t=0;t<i;t++)t%4===0&&t&&(u.push(a>>16&255),u.push(a>>8&255),u.push(a&255)),a=a<<6|o.indexOf(r.charAt(t));return n=i%4*6,n===0?(u.push(a>>16&255),u.push(a>>8&255),u.push(a&255)):n===18?(u.push(a>>10&255),u.push(a>>2&255)):n===12&&u.push(a>>4&255),new Uint8Array(u)}function rs(e){var t="",n=0,r,i,o=e.length,a=or;for(r=0;r<o;r++)r%3===0&&r&&(t+=a[n>>18&63],t+=a[n>>12&63],t+=a[n>>6&63],t+=a[n&63]),n=(n<<8)+e[r];return i=o%3,i===0?(t+=a[n>>18&63],t+=a[n>>12&63],t+=a[n>>6&63],t+=a[n&63]):i===2?(t+=a[n>>10&63],t+=a[n>>4&63],t+=a[n<<2&63],t+=a[64]):i===1&&(t+=a[n>>2&63],t+=a[n<<4&63],t+=a[64],t+=a[64]),t}function is(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var os=new R("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ts,construct:ns,predicate:is,represent:rs}),as=Object.prototype.hasOwnProperty,us=Object.prototype.toString;function ls(e){if(e===null)return!0;var t=[],n,r,i,o,a,u=e;for(n=0,r=u.length;n<r;n+=1){if(i=u[n],a=!1,us.call(i)!=="[object Object]")return!1;for(o in i)if(as.call(i,o))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function fs(e){return e!==null?e:[]}var ss=new R("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ls,construct:fs}),cs=Object.prototype.toString;function ps(e){if(e===null)return!0;var t,n,r,i,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(r=a[t],cs.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;o[t]=[i[0],r[i[0]]]}return!0}function hs(e){if(e===null)return[];var t,n,r,i,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1)r=a[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}var ms=new R("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ps,construct:hs}),ds=Object.prototype.hasOwnProperty;function xs(e){if(e===null)return!0;var t,n=e;for(t in n)if(ds.call(n,t)&&n[t]!==null)return!1;return!0}function gs(e){return e!==null?e:{}}var ys=new R("tag:yaml.org,2002:set",{kind:"mapping",resolve:xs,construct:gs}),ta=Kf.extend({implicit:[Zf,es],explicit:[os,ss,ms,ys]}),oe=Object.prototype.hasOwnProperty,Zt=1,na=2,ra=3,Jt=4,Jn=1,_s=2,$o=3,vs=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ws=/[\x85\u2028\u2029]/,bs=/[,\[\]\{\}]/,ia=/^(?:!|!!|![a-z\-]+!)$/i,oa=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Po(e){return Object.prototype.toString.call(e)}function K(e){return e===10||e===13}function ge(e){return e===9||e===32}function Y(e){return e===9||e===32||e===10||e===13}function Me(e){return e===44||e===91||e===93||e===123||e===125}function As(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function ks(e){return e===120?2:e===117?4:e===85?8:0}function Ss(e){return 48<=e&&e<=57?e-48:-1}function Bo(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Cs(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var aa=new Array(256),ua=new Array(256);for(xe=0;xe<256;xe++)aa[xe]=Bo(xe)?1:0,ua[xe]=Bo(xe);var xe;function Es(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||ta,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function la(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=mf(n),new H(t,n)}function g(e,t){throw la(e,t)}function en(e,t){e.onWarning&&e.onWarning.call(null,la(e,t))}var zo={YAML:function(t,n,r){var i,o,a;t.version!==null&&g(t,"duplication of %YAML directive"),r.length!==1&&g(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&g(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),a=parseInt(i[2],10),o!==1&&g(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&en(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,o;r.length!==2&&g(t,"TAG directive accepts exactly two arguments"),i=r[0],o=r[1],ia.test(i)||g(t,"ill-formed tag handle (first argument) of the TAG directive"),oe.call(t.tagMap,i)&&g(t,'there is a previously declared suffix for "'+i+'" tag handle'),oa.test(o)||g(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{g(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function ie(e,t,n,r){var i,o,a,u;if(t<n){if(u=e.input.slice(t,n),r)for(i=0,o=u.length;i<o;i+=1)a=u.charCodeAt(i),a===9||32<=a&&a<=1114111||g(e,"expected valid JSON character");else vs.test(u)&&g(e,"the stream contains non-printable characters");e.result+=u}}function Ho(e,t,n,r){var i,o,a,u;for(O.isObject(n)||g(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,u=i.length;a<u;a+=1)o=i[a],oe.call(t,o)||(t[o]=n[o],r[o]=!0)}function Te(e,t,n,r,i,o,a,u,l){var f,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),f=0,c=i.length;f<c;f+=1)Array.isArray(i[f])&&g(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Po(i[f])==="[object Object]"&&(i[f]="[object Object]");if(typeof i=="object"&&Po(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(f=0,c=o.length;f<c;f+=1)Ho(e,t,o[f],n);else Ho(e,t,o,n);else!e.json&&!oe.call(n,i)&&oe.call(t,i)&&(e.line=a||e.line,e.lineStart=u||e.lineStart,e.position=l||e.position,g(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete n[i];return t}function ar(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):g(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function N(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;ge(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(K(i))for(ar(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&en(e,"deficient indentation"),r}function rn(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Y(n)))}function ur(e,t){t===1?e.result+=" ":t>1&&(e.result+=O.repeat(`
`,t-1))}function Ms(e,t,n){var r,i,o,a,u,l,f,c,s=e.kind,p=e.result,h;if(h=e.input.charCodeAt(e.position),Y(h)||Me(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),Y(i)||n&&Me(i)))return!1;for(e.kind="scalar",e.result="",o=a=e.position,u=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),Y(i)||n&&Me(i))break}else if(h===35){if(r=e.input.charCodeAt(e.position-1),Y(r))break}else{if(e.position===e.lineStart&&rn(e)||n&&Me(h))break;if(K(h))if(l=e.line,f=e.lineStart,c=e.lineIndent,N(e,!1,-1),e.lineIndent>=t){u=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=l,e.lineStart=f,e.lineIndent=c;break}}u&&(ie(e,o,a,!1),ur(e,e.line-l),o=a=e.position,u=!1),ge(h)||(a=e.position+1),h=e.input.charCodeAt(++e.position)}return ie(e,o,a,!1),e.result?!0:(e.kind=s,e.result=p,!1)}function Ts(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(ie(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else K(n)?(ie(e,r,i,!0),ur(e,N(e,!1,t)),r=i=e.position):e.position===e.lineStart&&rn(e)?g(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);g(e,"unexpected end of the stream within a single quoted scalar")}function Ns(e,t){var n,r,i,o,a,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return ie(e,n,e.position,!0),e.position++,!0;if(u===92){if(ie(e,n,e.position,!0),u=e.input.charCodeAt(++e.position),K(u))N(e,!1,t);else if(u<256&&aa[u])e.result+=ua[u],e.position++;else if((a=ks(u))>0){for(i=a,o=0;i>0;i--)u=e.input.charCodeAt(++e.position),(a=As(u))>=0?o=(o<<4)+a:g(e,"expected hexadecimal character");e.result+=Cs(o),e.position++}else g(e,"unknown escape sequence");n=r=e.position}else K(u)?(ie(e,n,r,!0),ur(e,N(e,!1,t)),n=r=e.position):e.position===e.lineStart&&rn(e)?g(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}g(e,"unexpected end of the stream within a double quoted scalar")}function Is(e,t){var n=!0,r,i,o,a=e.tag,u,l=e.anchor,f,c,s,p,h,m=Object.create(null),d,y,v,x;if(x=e.input.charCodeAt(e.position),x===91)c=93,h=!1,u=[];else if(x===123)c=125,h=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),x=e.input.charCodeAt(++e.position);x!==0;){if(N(e,!0,t),x=e.input.charCodeAt(e.position),x===c)return e.position++,e.tag=a,e.anchor=l,e.kind=h?"mapping":"sequence",e.result=u,!0;n?x===44&&g(e,"expected the node content, but found ','"):g(e,"missed comma between flow collection entries"),y=d=v=null,s=p=!1,x===63&&(f=e.input.charCodeAt(e.position+1),Y(f)&&(s=p=!0,e.position++,N(e,!0,t))),r=e.line,i=e.lineStart,o=e.position,Ne(e,t,Zt,!1,!0),y=e.tag,d=e.result,N(e,!0,t),x=e.input.charCodeAt(e.position),(p||e.line===r)&&x===58&&(s=!0,x=e.input.charCodeAt(++e.position),N(e,!0,t),Ne(e,t,Zt,!1,!0),v=e.result),h?Te(e,u,m,y,d,v,r,i,o):s?u.push(Te(e,null,m,y,d,v,r,i,o)):u.push(d),N(e,!0,t),x=e.input.charCodeAt(e.position),x===44?(n=!0,x=e.input.charCodeAt(++e.position)):n=!1}g(e,"unexpected end of the stream within a flow collection")}function Os(e,t){var n,r,i=Jn,o=!1,a=!1,u=t,l=0,f=!1,c,s;if(s=e.input.charCodeAt(e.position),s===124)r=!1;else if(s===62)r=!0;else return!1;for(e.kind="scalar",e.result="";s!==0;)if(s=e.input.charCodeAt(++e.position),s===43||s===45)Jn===i?i=s===43?$o:_s:g(e,"repeat of a chomping mode identifier");else if((c=Ss(s))>=0)c===0?g(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?g(e,"repeat of an indentation width identifier"):(u=t+c-1,a=!0);else break;if(ge(s)){do s=e.input.charCodeAt(++e.position);while(ge(s));if(s===35)do s=e.input.charCodeAt(++e.position);while(!K(s)&&s!==0)}for(;s!==0;){for(ar(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!a||e.lineIndent<u)&&s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>u&&(u=e.lineIndent),K(s)){l++;continue}if(e.lineIndent<u){i===$o?e.result+=O.repeat(`
`,o?1+l:l):i===Jn&&o&&(e.result+=`
`);break}for(r?ge(s)?(f=!0,e.result+=O.repeat(`
`,o?1+l:l)):f?(f=!1,e.result+=O.repeat(`
`,l+1)):l===0?o&&(e.result+=" "):e.result+=O.repeat(`
`,l):e.result+=O.repeat(`
`,o?1+l:l),o=!0,a=!0,l=0,n=e.position;!K(s)&&s!==0;)s=e.input.charCodeAt(++e.position);ie(e,n,e.position,!1)}return!0}function Yo(e,t){var n,r=e.tag,i=e.anchor,o=[],a,u=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,g(e,"tab characters must not be used in indentation")),!(l!==45||(a=e.input.charCodeAt(e.position+1),!Y(a))));){if(u=!0,e.position++,N(e,!0,-1)&&e.lineIndent<=t){o.push(null),l=e.input.charCodeAt(e.position);continue}if(n=e.line,Ne(e,t,ra,!1,!0),o.push(e.result),N(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&l!==0)g(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return u?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function Fs(e,t,n){var r,i,o,a,u,l,f=e.tag,c=e.anchor,s={},p=Object.create(null),h=null,m=null,d=null,y=!1,v=!1,x;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),x=e.input.charCodeAt(e.position);x!==0;){if(!y&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,g(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,(x===63||x===58)&&Y(r))x===63?(y&&(Te(e,s,p,h,m,null,a,u,l),h=m=d=null),v=!0,y=!0,i=!0):y?(y=!1,i=!0):g(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,x=r;else{if(a=e.line,u=e.lineStart,l=e.position,!Ne(e,n,na,!1,!0))break;if(e.line===o){for(x=e.input.charCodeAt(e.position);ge(x);)x=e.input.charCodeAt(++e.position);if(x===58)x=e.input.charCodeAt(++e.position),Y(x)||g(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Te(e,s,p,h,m,null,a,u,l),h=m=d=null),v=!0,y=!1,i=!1,h=e.tag,m=e.result;else if(v)g(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=f,e.anchor=c,!0}else if(v)g(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=f,e.anchor=c,!0}if((e.line===o||e.lineIndent>t)&&(y&&(a=e.line,u=e.lineStart,l=e.position),Ne(e,t,Jt,!0,i)&&(y?m=e.result:d=e.result),y||(Te(e,s,p,h,m,d,a,u,l),h=m=d=null),N(e,!0,-1),x=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&x!==0)g(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Te(e,s,p,h,m,null,a,u,l),v&&(e.tag=f,e.anchor=c,e.kind="mapping",e.result=s),v}function Ls(e){var t,n=!1,r=!1,i,o,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&g(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(n=!0,a=e.input.charCodeAt(++e.position)):a===33?(r=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(o=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):g(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Y(a);)a===33&&(r?g(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),ia.test(i)||g(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),bs.test(o)&&g(e,"tag suffix cannot contain flow indicator characters")}o&&!oa.test(o)&&g(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{g(e,"tag name is malformed: "+o)}return n?e.tag=o:oe.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:g(e,'undeclared tag handle "'+i+'"'),!0}function Rs(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&g(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Y(n)&&!Me(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&g(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Ds(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Y(r)&&!Me(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&g(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),oe.call(e.anchorMap,n)||g(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],N(e,!0,-1),!0}function Ne(e,t,n,r,i){var o,a,u,l=1,f=!1,c=!1,s,p,h,m,d,y;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=u=Jt===n||ra===n,r&&N(e,!0,-1)&&(f=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;Ls(e)||Rs(e);)N(e,!0,-1)?(f=!0,u=o,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):u=!1;if(u&&(u=f||i),(l===1||Jt===n)&&(Zt===n||na===n?d=t:d=t+1,y=e.position-e.lineStart,l===1?u&&(Yo(e,y)||Fs(e,y,d))||Is(e,d)?c=!0:(a&&Os(e,d)||Ts(e,d)||Ns(e,d)?c=!0:Ds(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&g(e,"alias node should not have any properties")):Ms(e,d,Zt===n)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(c=u&&Yo(e,y))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&g(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),s=0,p=e.implicitTypes.length;s<p;s+=1)if(m=e.implicitTypes[s],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(oe.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,h=e.typeMap.multi[e.kind||"fallback"],s=0,p=h.length;s<p;s+=1)if(e.tag.slice(0,h[s].tag.length)===h[s].tag){m=h[s];break}m||g(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&g(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):g(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function $s(e){var t=e.position,n,r,i,o=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(N(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(o=!0,a=e.input.charCodeAt(++e.position),n=e.position;a!==0&&!Y(a);)a=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&g(e,"directive name must not be less than one character in length");a!==0;){for(;ge(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!K(a));break}if(K(a))break;for(n=e.position;a!==0&&!Y(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}a!==0&&ar(e),oe.call(zo,r)?zo[r](e,r,i):en(e,'unknown document directive "'+r+'"')}if(N(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,N(e,!0,-1)):o&&g(e,"directives end mark is expected"),Ne(e,e.lineIndent-1,Jt,!1,!0),N(e,!0,-1),e.checkLineBreaks&&ws.test(e.input.slice(t,e.position))&&en(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&rn(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,N(e,!0,-1));return}if(e.position<e.length-1)g(e,"end of the stream or a document separator is expected");else return}function fa(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Es(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,g(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)$s(n);return n.documents}function Ps(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=fa(e,n);if(typeof t!="function")return r;for(var i=0,o=r.length;i<o;i+=1)t(r[i])}function Bs(e,t){var n=fa(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new H("expected a single document in the stream, but found more")}}var zs=Ps,Hs=Bs,sa={loadAll:zs,load:Hs},ca=Object.prototype.toString,pa=Object.prototype.hasOwnProperty,lr=65279,Ys=9,Ze=10,qs=13,Vs=32,Gs=33,Xs=34,tr=35,Us=37,Ks=38,Ws=39,js=42,ha=44,Qs=45,tn=58,Zs=61,Js=62,ec=63,tc=64,ma=91,da=93,nc=96,xa=123,rc=124,ga=125,D={};D[0]="\\0";D[7]="\\a";D[8]="\\b";D[9]="\\t";D[10]="\\n";D[11]="\\v";D[12]="\\f";D[13]="\\r";D[27]="\\e";D[34]='\\"';D[92]="\\\\";D[133]="\\N";D[160]="\\_";D[8232]="\\L";D[8233]="\\P";var ic=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],oc=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function ac(e,t){var n,r,i,o,a,u,l;if(t===null)return{};for(n={},r=Object.keys(t),i=0,o=r.length;i<o;i+=1)a=r[i],u=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=e.compiledTypeMap.fallback[a],l&&pa.call(l.styleAliases,u)&&(u=l.styleAliases[u]),n[a]=u;return n}function uc(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new H("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+O.repeat("0",r-t.length)+t}var lc=1,Je=2;function fc(e){this.schema=e.schema||ta,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=O.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=ac(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Je:lc,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function qo(e,t){for(var n=O.repeat(" ",t),r=0,i=-1,o="",a,u=e.length;r<u;)i=e.indexOf(`
`,r),i===-1?(a=e.slice(r),r=u):(a=e.slice(r,i+1),r=i+1),a.length&&a!==`
`&&(o+=n),o+=a;return o}function nr(e,t){return`
`+O.repeat(" ",e.indent*t)}function sc(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function nn(e){return e===Vs||e===Ys}function et(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==lr||65536<=e&&e<=1114111}function Vo(e){return et(e)&&e!==lr&&e!==qs&&e!==Ze}function Go(e,t,n){var r=Vo(e),i=r&&!nn(e);return(n?r:r&&e!==ha&&e!==ma&&e!==da&&e!==xa&&e!==ga)&&e!==tr&&!(t===tn&&!i)||Vo(t)&&!nn(t)&&e===tr||t===tn&&i}function cc(e){return et(e)&&e!==lr&&!nn(e)&&e!==Qs&&e!==ec&&e!==tn&&e!==ha&&e!==ma&&e!==da&&e!==xa&&e!==ga&&e!==tr&&e!==Ks&&e!==js&&e!==Gs&&e!==rc&&e!==Zs&&e!==Js&&e!==Ws&&e!==Xs&&e!==Us&&e!==tc&&e!==nc}function pc(e){return!nn(e)&&e!==tn}function je(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function ya(e){var t=/^\n* /;return t.test(e)}var _a=1,rr=2,va=3,wa=4,Ee=5;function hc(e,t,n,r,i,o,a,u){var l,f=0,c=null,s=!1,p=!1,h=r!==-1,m=-1,d=cc(je(e,0))&&pc(je(e,e.length-1));if(t||a)for(l=0;l<e.length;f>=65536?l+=2:l++){if(f=je(e,l),!et(f))return Ee;d=d&&Go(f,c,u),c=f}else{for(l=0;l<e.length;f>=65536?l+=2:l++){if(f=je(e,l),f===Ze)s=!0,h&&(p=p||l-m-1>r&&e[m+1]!==" ",m=l);else if(!et(f))return Ee;d=d&&Go(f,c,u),c=f}p=p||h&&l-m-1>r&&e[m+1]!==" "}return!s&&!p?d&&!a&&!i(e)?_a:o===Je?Ee:rr:n>9&&ya(e)?Ee:a?o===Je?Ee:rr:p?wa:va}function mc(e,t,n,r,i){e.dump=function(){if(t.length===0)return e.quotingType===Je?'""':"''";if(!e.noCompatMode&&(ic.indexOf(t)!==-1||oc.test(t)))return e.quotingType===Je?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,n),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),u=r||e.flowLevel>-1&&n>=e.flowLevel;function l(f){return sc(e,f)}switch(hc(t,u,e.indent,a,l,e.quotingType,e.forceQuotes&&!r,i)){case _a:return t;case rr:return"'"+t.replace(/'/g,"''")+"'";case va:return"|"+Xo(t,e.indent)+Uo(qo(t,o));case wa:return">"+Xo(t,e.indent)+Uo(qo(dc(t,a),o));case Ee:return'"'+xc(t)+'"';default:throw new H("impossible error: invalid scalar style")}}()}function Xo(e,t){var n=ya(e)?String(t):"",r=e[e.length-1]===`
`,i=r&&(e[e.length-2]===`
`||e===`
`),o=i?"+":r?"":"-";return n+o+`
`}function Uo(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function dc(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var f=e.indexOf(`
`);return f=f!==-1?f:e.length,n.lastIndex=f,Ko(e.slice(0,f),t)}(),i=e[0]===`
`||e[0]===" ",o,a;a=n.exec(e);){var u=a[1],l=a[2];o=l[0]===" ",r+=u+(!i&&!o&&l!==""?`
`:"")+Ko(l,t),i=o}return r}function Ko(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,i=0,o,a=0,u=0,l="";r=n.exec(e);)u=r.index,u-i>t&&(o=a>i?a:u,l+=`
`+e.slice(i,o),i=o+1),a=u;return l+=`
`,e.length-i>t&&a>i?l+=e.slice(i,a)+`
`+e.slice(a+1):l+=e.slice(i),l.slice(1)}function xc(e){for(var t="",n=0,r,i=0;i<e.length;n>=65536?i+=2:i++)n=je(e,i),r=D[n],!r&&et(n)?(t+=e[i],n>=65536&&(t+=e[i+1])):t+=r||uc(n);return t}function gc(e,t,n){var r="",i=e.tag,o,a,u;for(o=0,a=n.length;o<a;o+=1)u=n[o],e.replacer&&(u=e.replacer.call(n,String(o),u)),(J(e,t,u,!1,!1)||typeof u>"u"&&J(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=i,e.dump="["+r+"]"}function Wo(e,t,n,r){var i="",o=e.tag,a,u,l;for(a=0,u=n.length;a<u;a+=1)l=n[a],e.replacer&&(l=e.replacer.call(n,String(a),l)),(J(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&J(e,t+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=nr(e,t)),e.dump&&Ze===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function yc(e,t,n){var r="",i=e.tag,o=Object.keys(n),a,u,l,f,c;for(a=0,u=o.length;a<u;a+=1)c="",r!==""&&(c+=", "),e.condenseFlow&&(c+='"'),l=o[a],f=n[l],e.replacer&&(f=e.replacer.call(n,l,f)),J(e,t,l,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),J(e,t,f,!1,!1)&&(c+=e.dump,r+=c));e.tag=i,e.dump="{"+r+"}"}function _c(e,t,n,r){var i="",o=e.tag,a=Object.keys(n),u,l,f,c,s,p;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new H("sortKeys must be a boolean or a function");for(u=0,l=a.length;u<l;u+=1)p="",(!r||i!=="")&&(p+=nr(e,t)),f=a[u],c=n[f],e.replacer&&(c=e.replacer.call(n,f,c)),J(e,t+1,f,!0,!0,!0)&&(s=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,s&&(e.dump&&Ze===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,s&&(p+=nr(e,t)),J(e,t+1,c,!0,s)&&(e.dump&&Ze===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,i+=p));e.tag=o,e.dump=i||"{}"}function jo(e,t,n){var r,i,o,a,u,l;for(i=n?e.explicitTypes:e.implicitTypes,o=0,a=i.length;o<a;o+=1)if(u=i[o],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof t=="object"&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(n?u.multi&&u.representName?e.tag=u.representName(t):e.tag=u.tag:e.tag="?",u.represent){if(l=e.styleMap[u.tag]||u.defaultStyle,ca.call(u.represent)==="[object Function]")r=u.represent(t,l);else if(pa.call(u.represent,l))r=u.represent[l](t,l);else throw new H("!<"+u.tag+'> tag resolver accepts not "'+l+'" style');e.dump=r}return!0}return!1}function J(e,t,n,r,i,o,a){e.tag=null,e.dump=n,jo(e,n,!1)||jo(e,n,!0);var u=ca.call(e.dump),l=r,f;r&&(r=e.flowLevel<0||e.flowLevel>t);var c=u==="[object Object]"||u==="[object Array]",s,p;if(c&&(s=e.duplicates.indexOf(n),p=s!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(i=!1),p&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(c&&p&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),u==="[object Object]")r&&Object.keys(e.dump).length!==0?(_c(e,t,e.dump,i),p&&(e.dump="&ref_"+s+e.dump)):(yc(e,t,e.dump),p&&(e.dump="&ref_"+s+" "+e.dump));else if(u==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?Wo(e,t-1,e.dump,i):Wo(e,t,e.dump,i),p&&(e.dump="&ref_"+s+e.dump)):(gc(e,t,e.dump),p&&(e.dump="&ref_"+s+" "+e.dump));else if(u==="[object String]")e.tag!=="?"&&mc(e,e.dump,t,o,l);else{if(u==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new H("unacceptable kind of an object to dump "+u)}e.tag!==null&&e.tag!=="?"&&(f=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",e.dump=f+" "+e.dump)}return!0}function vc(e,t){var n=[],r=[],i,o;for(ir(e,n,r),i=0,o=r.length;i<o;i+=1)t.duplicates.push(n[r[i]]);t.usedDuplicates=new Array(o)}function ir(e,t,n){var r,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)ir(e[i],t,n);else for(r=Object.keys(e),i=0,o=r.length;i<o;i+=1)ir(e[r[i]],t,n)}function wc(e,t){t=t||{};var n=new fc(t);n.noRefs||vc(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),J(n,0,r,!0,!0)?n.dump+`
`:""}var bc=wc,Ac={dump:bc};function fr(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var ba=sa.load,_1=sa.loadAll,v1=Ac.dump;var w1=fr("safeLoad","load"),b1=fr("safeLoadAll","loadAll"),A1=fr("safeDump","dump");var Aa=class e{data=it(null);temperatureData=it([]);powerData=it([]);constructor(){this.loadData()}loadData(){return cr(this,null,function*(){try{let t=yield fetch("./assets/data.yml");if(!t.ok)throw new Error(`HTTP ${t.status}`);let n=yield t.text(),r=ba(n);if(!r?.temperature?.values||!r?.power?.values)throw new Error("Invalid YAML sections");this.data.set(r),this.temperatureData.set(r.temperature.values),this.powerData.set(r.power.values),console.log("Weather data loaded")}catch(t){console.error("Error loading YAML:",t)}})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})};function ka(e){let[t,n,r]=e.split(":").map(Number);return t*3600+n*60+r}function M1(e){let t=new Date,n=ka(`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`),r=null;for(let i of e)if(ka(i.time)<=n)r=i.value;else break;return r}function T1(e){if(e==null)return NaN;if(typeof e=="number")return e;if(typeof e!="string")return NaN;let t=e.replace(",",".").trim(),n=Number(t);return isNaN(n)?NaN:n}function N1(e){if(!e?.length)return[];let t={};for(let{time:f,value:c}of e){if(isNaN(c)||c===null)continue;let s=f.slice(0,5);t[s]||(t[s]=[]),t[s].push(c)}let n=Object.entries(t).map(([f,c])=>({minute:f,value:c.reduce((s,p)=>s+p,0)/c.length||0}));n.sort((f,c)=>f.minute>c.minute?1:-1);let r=Sc(n),i=new Date,o=i.getHours(),a=i.getMinutes(),u=[],l=r[0]?.value??0;for(let f=0;f<=o;f++){let c=f===o?a:59;for(let s=0;s<=c;s++){let p=String(f).padStart(2,"0"),h=String(s).padStart(2,"0"),m=`${p}:${h}`,d=r.find(y=>y.minute===m);d&&!isNaN(d.value)?(l=d.value,u.push(d)):u.push({minute:m,value:l})}}return u}function Sc(e){if(e.length<2)return e;let t=[];for(let n=0;n<e.length-1;n++){let r=e[n],i=e[n+1];t.push(r);let[o,a]=r.minute.split(":").map(Number),[u,l]=i.minute.split(":").map(Number),f=u*60+l-(o*60+a);if(f>1)for(let c=1;c<f;c++){let s=c/f,p=r.value+s*(i.value-r.value),h=new Date;h.setHours(o),h.setMinutes(a+c);let m=String(h.getHours()).padStart(2,"0"),d=String(h.getMinutes()).padStart(2,"0");t.push({minute:`${m}:${d}`,value:p})}}return t.push(e[e.length-1]),t}export{Aa as a,M1 as b,T1 as c,N1 as d,Ro as e};
